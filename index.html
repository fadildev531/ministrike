<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fadil Game Studio</title>
<style>
body{
  margin:0;
  background:black;
  color:white;
  font-family:Arial;
  text-align:center;
}
button{
  padding:15px 25px;
  margin:10px;
  font-size:18px;
  background:red;
  border:none;
  border-radius:10px;
  color:white;
}
#menu{ margin-top:100px; }

canvas{
  background:black;
  display:block;
  margin:auto;
}

.hidden{ display:none; }

.controls{
  position:fixed;
  bottom:20px;
  width:100%;
  display:flex;
  justify-content:space-around;
}

.ctrlBtn{
  font-size:25px;
  padding:20px;
  border-radius:50%;
  background:lime;
  color:black;
}
</style>
</head>
<body>

<div id="menu">
  <h1>üéÆ Fadil Game Studio</h1>
  <button onclick="startMini()">üïπ MiniStrike</button>
  <button onclick="startHorror()">üíÄ Night Terror</button>
</div>

<canvas id="game" width="400" height="600" class="hidden"></canvas>
<button id="backBtn" class="hidden" onclick="backMenu()">‚Üê Back</button>

<div class="controls hidden" id="controls">
  <button class="ctrlBtn" onclick="moveLeft()">‚¨ÖÔ∏è</button>
  <button class="ctrlBtn" onclick="shoot()">üî•</button>
  <button class="ctrlBtn" onclick="moveRight()">‚û°Ô∏è</button>
</div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
const menu = document.getElementById("menu");
const backBtn = document.getElementById("backBtn");
const controls = document.getElementById("controls");

let mode = "";
let player, bullets, enemies, score, gameOver;

function startMini(){
  mode = "mini";
  startGame();
}

function startHorror() {
    document.getElementById("menu").style.display = "none";
    const gameArea = document.getElementById("gameArea");
    gameArea.innerHTML = `
        <div id="score" style="position:absolute;top:10px;left:10px;color:red;font-size:20px;">
            Fear: 0
        </div>
        <canvas id="horrorCanvas"></canvas>
        <button onclick="goHome()" 
            style="position:absolute;top:10px;right:10px;
            background:red;color:white;padding:8px 12px;
            border:none;border-radius:8px;">
            Back
        </button>
    `;

    const canvas = document.getElementById("horrorCanvas");
    const ctx = canvas.getContext("2d");

    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    let player = {
        x: canvas.width / 2 - 20,
        y: canvas.height - 100,
        width: 40,
        height: 40
    };

    let ghosts = [];
    let fear = 0;
    let speed = 2;
    let gameOver = false;

    function spawnGhost() {
        ghosts.push({
            x: Math.random() * (canvas.width - 30),
            y: -40,
            width: 30,
            height: 30
        });
    }

    setInterval(spawnGhost, 1200);

    function draw() {
        if (gameOver) return;

        ctx.fillStyle = "black";
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        // Player
        ctx.fillStyle = "white";
        ctx.fillRect(player.x, player.y, player.width, player.height);

        // Ghosts
        ctx.fillStyle = "red";
        ghosts.forEach((ghost, index) => {
            ghost.y += speed;
            ctx.fillRect(ghost.x, ghost.y, ghost.width, ghost.height);

            // Collision
            if (
                ghost.x < player.x + player.width &&
                ghost.x + ghost.width > player.x &&
                ghost.y < player.y + player.height &&
                ghost.y + ghost.height > player.y
            ) {
                gameOver = true;
                ctx.fillStyle = "darkred";
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                ctx.fillStyle = "white";
                ctx.font = "40px Arial";
                ctx.fillText("IT FOUND YOU", canvas.width / 2 - 150, canvas.height / 2);
            }

            if (ghost.y > canvas.height) {
                ghosts.splice(index, 1);
                fear++;
                speed += 0.1;
                document.getElementById("score").innerText = "Fear: " + fear;
            }
        });

        requestAnimationFrame(draw);
    }

    draw();

    // Kontrol HP
    window.moveLeft = function() {
        if (player.x > 0) player.x -= 20;
    };

    window.moveRight = function() {
        if (player.x < canvas.width - player.width) player.x += 20;
    };
}
}

function startGame(){
  menu.classList.add("hidden");
  canvas.classList.remove("hidden");
  backBtn.classList.remove("hidden");

  if(mode === "mini"){
    controls.classList.remove("hidden");
    player = {x:180,y:550,width:40,height:40};
    bullets = [];
    enemies = [];
    score = 0;
    gameOver = false;
    loop();
  }

  if(mode === "horror"){
    controls.classList.add("hidden");
    horrorLoop();
  }
}

function backMenu(){
  menu.classList.remove("hidden");
  canvas.classList.add("hidden");
  backBtn.classList.add("hidden");
  controls.classList.add("hidden");
}

function moveLeft(){
  if(!gameOver) player.x -= 25;
}

function moveRight(){
  if(!gameOver) player.x += 25;
}

function shoot(){
  if(!gameOver) bullets.push({x:player.x+15,y:player.y});
}

function loop(){
  ctx.clearRect(0,0,400,600);

  if(gameOver){
    ctx.fillStyle="red";
    ctx.font="40px Arial";
    ctx.fillText("GAME OVER",90,300);
    return;
  }

  ctx.fillStyle="lime";
  ctx.fillRect(player.x,player.y,player.width,player.height);

  ctx.fillStyle="yellow";
  bullets.forEach((b,i)=>{
    b.y-=10;
    ctx.fillRect(b.x,b.y,10,20);
  });

  if(Math.random()<0.03){
    enemies.push({x:Math.random()*360,y:0});
  }

  ctx.fillStyle="red";
  enemies.forEach((e,ei)=>{
    e.y+=3;
    ctx.fillRect(e.x,e.y,40,40);

    if(
      e.x < player.x+40 &&
      e.x+40 > player.x &&
      e.y < player.y+40 &&
      e.y+40 > player.y
    ){
      gameOver=true;
    }

    bullets.forEach((b,bi)=>{
      if(
        b.x < e.x+40 &&
        b.x+10 > e.x &&
        b.y < e.y+40 &&
        b.y+20 > e.y
      ){
        enemies.splice(ei,1);
        bullets.splice(bi,1);
        score++;
      }
    });
  });

  ctx.fillStyle="white";
  ctx.font="20px Arial";
  ctx.fillText("Score: "+score,10,30);

  requestAnimationFrame(loop);
}

function horrorLoop(){
  ctx.clearRect(0,0,400,600);
  ctx.fillStyle="red";
  ctx.font="40px Arial";
  ctx.fillText("YOU ARE NOT ALONE",20,300);

  setTimeout(()=>{
    ctx.clearRect(0,0,400,600);
  },500);

  setTimeout(()=>{
    horrorLoop();
  },1000);
}
</script>

</body>
</html>
