<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fadil Game Studio</title>
<style>
body {
    margin: 0;
    background: black;
    color: white;
    font-family: Arial;
    text-align: center;
}

button {
    padding: 12px 20px;
    font-size: 18px;
    border: none;
    border-radius: 10px;
    background: red;
    color: white;
    margin: 10px;
}

#controls {
    position: fixed;
    bottom: 20px;
    width: 100%;
    display: none;
    justify-content: space-around;
}

.controlBtn {
    width: 70px;
    height: 70px;
    border-radius: 50%;
    background: lime;
    font-size: 24px;
}
canvas {
    background: black;
}
</style>
</head>
<body>

<div id="menu">
    <h1>üéÆ Fadil Game Studio</h1>
    <button onclick="startMiniStrike()">üïπ MiniStrike</button>
    <button onclick="startHorror()">üíÄ Night Terror</button>
</div>

<div id="gameArea"></div>

<div id="controls">
    <button class="controlBtn" onclick="moveLeft()">‚¨ÖÔ∏è</button>
    <button class="controlBtn" onclick="shoot()">üî•</button>
    <button class="controlBtn" onclick="moveRight()">‚û°Ô∏è</button>
</div>

<script>
let canvas, ctx, player, enemies, gameInterval;
let gameMode = "";
let score = 0;
let speed = 2;

function showControls() {
    document.getElementById("controls").style.display = "flex";
}

function hideControls() {
    document.getElementById("controls").style.display = "none";
}

function goHome() {
    clearInterval(gameInterval);
    document.getElementById("gameArea").innerHTML = "";
    document.getElementById("menu").style.display = "block";
    hideControls();
}

function setupGame() {
    document.getElementById("menu").style.display = "none";
    document.getElementById("gameArea").innerHTML =
        `<div id="score" style="position:absolute;top:10px;left:10px;">Score: 0</div>
         <button onclick="goHome()" style="position:absolute;top:10px;right:10px;">Back</button>
         <canvas id="gameCanvas"></canvas>`;

    canvas = document.getElementById("gameCanvas");
    ctx = canvas.getContext("2d");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    player = { x: canvas.width/2-20, y: canvas.height-80, w: 40, h: 40 };
    enemies = [];
    score = 0;
    speed = 2;

    showControls();
    gameInterval = setInterval(updateGame, 1000/60);
}

function startMiniStrike() {
    gameMode = "mini";
    setupGame();
}

function startHorror() {
    gameMode = "horror";
    setupGame();
}

function spawnEnemy() {
    enemies.push({
        x: Math.random()*(canvas.width-30),
        y: -40,
        w: 30,
        h: 30
    });
}

setInterval(spawnEnemy, 1200);

function updateGame() {
    ctx.clearRect(0,0,canvas.width,canvas.height);

    ctx.fillStyle = (gameMode === "mini") ? "lime" : "white";
    ctx.fillRect(player.x, player.y, player.w, player.h);

    ctx.fillStyle = (gameMode === "mini") ? "red" : "darkred";

    enemies.forEach((e,i)=>{
        e.y += speed;
        ctx.fillRect(e.x,e.y,e.w,e.h);

        if(
            e.x < player.x + player.w &&
            e.x + e.w > player.x &&
            e.y < player.y + player.h &&
            e.y + e.h > player.y
        ){
            alert(gameMode === "mini" ? "Game Over!" : "IT FOUND YOU");
            goHome();
        }

        if(e.y > canvas.height){
            enemies.splice(i,1);
            score++;
            speed += 0.1;
            document.getElementById("score").innerText = "Score: " + score;
        }
    });
}

function moveLeft(){
    if(player && player.x>0) player.x -= 20;
}
function moveRight(){
    if(player && player.x < canvas.width-player.w) player.x += 20;
}
function shoot(){
    // nanti bisa dikembangin
}
</script>

</body>
</html>
